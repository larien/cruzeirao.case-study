
<ui:composition template="templateMenu.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui2="http://java.sun.com/jsf/facelets"
>
	
	<ui:define name="title">
		<h:outputText value="#{msg['pages.cadastroCampeonato.title']}" />
	</ui:define>

	<ui:define name="principal">
	<script type="text/javascript">
    	function handleLocalDrop(event, ui) {
	        var droppedLocal = ui.draggable;
        	droppedLocal.fadeOut('fast');
    	}
	</script>
	  <h1><p:outputLabel value="#{msg['pages.cadastroCampeonato.menu']}"/></h1>
	  
	  <h:form id="formCampeonato">	
	  <p:panelGrid columns="2">
	  <p:outputLabel value="#{msg['pages.cadastroCampeonato.nome']}" />
      <p:inputText value="#{campeonatoMB.campeonato.nome}"/>
      
      <p:outputLabel value="#{msg['pages.cadastroCampeonato.local']}" />
      <p:commandButton id="localBtn" value="#{msg['pages.cadastroCampeonato.local']}" type="button" />
      
      <p:outputLabel value="#{msg['pages.cadastroCampeonato.juiz']}" />
      <p:commandButton id="juizBtn" value="#{msg['pages.cadastroCampeonato.juiz']}" type="button" />
      
      <p:outputLabel value="#{msg['pages.cadastroCampeonato.categoria']}" />
      <p:commandButton id="categoriaBtn" value="#{msg['pages.cadastroCampeonato.categoria']}" type="button" />
      
	  <p:outputLabel value="#{msg['pages.cadastroCampeonato.dataInicioInscricao']}" />
	  <p:calendar value="#{campeonatoMB.campeonato.dataInicioInscricao}"/>
	  
	  <p:outputLabel value="#{msg['pages.cadastroCampeonato.dataFimInscricao']}" />
	  <p:calendar value="#{campeonatoMB.campeonato.dataFimInscricao}"/>
	  
	  <p:outputLabel value="#{msg['pages.cadastroCampeonato.dataInicioCampeonato']}" />
	  <p:calendar value="#{campeonatoMB.campeonato.dataInicioCampeonato}" />
	  
	  <p:outputLabel value="#{msg['pages.cadastroCampeonato.dataFimCampeonato']}" />
	  <p:calendar value="#{campeonatoMB.campeonato.dataFimCampeonato}"  />
	  </p:panelGrid>
	  	  <p:overlayPanel id="categoriaPanel" for="categoriaBtn" hideEffect="fade" dynamic="true" style="width:600px">
			<p:fieldset id="availableCategoriasField" legend="Categorias Disponiveis">
		        <p:dataTable id="availableCategorias" var="Categoria" value="#{CategoriaMB.Categorias}">
		            <p:column style="width:20px">
		                <h:outputText id="dragIcon" styleClass="ui-icon ui-icon-arrow-4" />
		                <p:draggable for="dragIcon" revert="true" helper="clone"/>
		            </p:column>
		 
		            <p:column headerText="Endereco">
		                <h:outputText value="#{Categoria.endereco}" />
		            </p:column>
		 
		        </p:dataTable>
		    </p:fieldset>
	 
		    <p:fieldset id="selectedCategorias" legend="Selected Categorias" style="margin-top:20px">
		        <p:outputPanel id="dropCategoriaArea">
		            <h:outputText value="!!!Drop here!!!" rendered="#{empty campeonatoMB.campeonato.categorias}" style="font-size:24px;" />
		            <p:dataTable id="selectedCategoriasTable" var="Categoria" value="#{campeonatoMB.campeonato.categorias}" rendered="#{not empty campeonatoMB.campeonato.categorias}">
		                <p:column headerText="Endereço">
		                    <h:outputText value="#{Categoria.endereco}" />
		                </p:column>
		            </p:dataTable>
		        </p:outputPanel>
		    </p:fieldset>
	 
		    <p:droppable for="selectedCategorias" tolerance="touch" activeStyleClass="ui-state-highlight" datasource="availableCategorias" onDrop="handleCategoriaDrop">
		        <p:ajax listener="#{campeonatoMB.onCategoriaDrop}" update="dropCategoriaArea availableCategorias" />
		    </p:droppable>

	  </p:overlayPanel>
	  <p:overlayPanel id="juizPanel" for="juizBtn" hideEffect="fade" dynamic="true" style="width:600px">
	        <p:fieldset id="availableJuizesField" legend="Juizes Disponiveis">
		        <p:dataTable id="availableJuizes" var="juiz" value="#{juizMB.juizes}">
		            <p:column style="width:20px">
		                <h:outputText id="dragIcon" styleClass="ui-icon ui-icon-arrow-4" />
		                <p:draggable for="dragIcon" revert="true" helper="clone"/>
		            </p:column>
		 
		            <p:column headerText="usuario">
		                <h:outputText value="#{juiz.usuario}" />
		            </p:column>
		 
		        </p:dataTable>
		    </p:fieldset>
	 
		    <p:fieldset id="selectedJuizes" legend="Selected Juizes" style="margin-top:20px">
		        <p:outputPanel id="dropJuizArea">
		            <h:outputText value="!!!Drop here!!!" rendered="#{empty campeonatoMB.campeonato.juizes}" style="font-size:24px;" />
		            <p:dataTable id="selectedJuizesTable" var="juiz" value="#{campeonatoMB.campeonato.juizes}" rendered="#{not empty campeonatoMB.campeonato.juizes}">
		                <p:column headerText="usuario">
		                    <h:outputText value="#{juiz.usuario}" />
		                </p:column>
		            </p:dataTable>
		        </p:outputPanel>
		    </p:fieldset>
	 
		    <p:droppable for="selectedJuizes" tolerance="touch" activeStyleClass="ui-state-highlight" datasource="availableJuizes" onDrop="handleDropJuiz">
		        <p:ajax listener="#{campeonatoMB.onJuizDrop}" update="dropJuizArea availableJuizes" />
		    </p:droppable>
	 
      </p:overlayPanel>
      
	  <p:overlayPanel id="localPanel" for="localBtn" hideEffect="fade" dynamic="true" style="width:600px">
			<p:fieldset id="availableLocaisField" legend="Locais Disponiveis">
		        <p:dataTable id="availableLocais" var="local" value="#{localMB.locais}">
		            <p:column style="width:20px">
		                <h:outputText id="dragIcon" styleClass="ui-icon ui-icon-arrow-4" />
		                <p:draggable for="dragIcon" revert="true" helper="clone"/>
		            </p:column>
		 
		            <p:column headerText="Endereco">
		                <h:outputText value="#{local.endereco}" />
		            </p:column>
		 
		        </p:dataTable>
		    </p:fieldset>
	 
		    <p:fieldset id="selectedLocais" legend="Selected Locais" style="margin-top:20px">
		        <p:outputPanel id="dropLocalArea">
		            <h:outputText value="!!!Drop here!!!" rendered="#{empty campeonatoMB.campeonato.locais}" style="font-size:24px;" />
		            <p:dataTable id="selectedLocaisTable" var="local" value="#{campeonatoMB.campeonato.locais}" rendered="#{not empty campeonatoMB.campeonato.locais}">
		                <p:column headerText="Endereço">
		                    <h:outputText value="#{local.endereco}" />
		                </p:column>
		            </p:dataTable>
		        </p:outputPanel>
		    </p:fieldset>
	 
		    <p:droppable for="selectedLocais" tolerance="touch" activeStyleClass="ui-state-highlight" datasource="availableLocais" onDrop="handleLocalDrop">
		        <p:ajax listener="#{campeonatoMB.onLocalDrop}" update="dropLocalArea availableLocais" />
		    </p:droppable>

	  </p:overlayPanel>
      
	  <p:commandButton value="#{msg['pages.cadastroCampeonato.btnSalvar']}" 
	                 action="#{campeonatoMB.salvar()}"
	                 update=":formCampeonato, :tabelaCampeonato"
	                 />
       </h:form>
	
   <p:dataTable value="#{CampeonatoManagedBean.Campeonatos}"
                var="aux"
                id="tabelaCampeonato"
   >
      <p:column headerText="#{msg['pages.cadastroCampeonato.nome']}">
        <p:outputLabel value="#{aux.nome}" />
      </p:column>
      <p:column headerText="#{msg['pages.cadastroCampeonato.local']}">
        <p:outputLabel value="#{aux.local}" />
      </p:column>
      <p:column headerText="#{msg['pages.cadastroCampeonato.juiz']}">
        <p:outputLabel value="#{aux.juiz}" />
      </p:column>
      <p:column headerText="#{msg['pages.cadastroCampeonato.categoria']}">
        <p:outputLabel value="#{aux.categoria}" />
      </p:column>
      <p:column headerText="#{msg['pages.cadastroCampeonato.dataInicioInscricao']}">
        <p:outputLabel value="#{aux.dataInicioInscricao}" />
      </p:column>
      <p:column headerText="#{msg['pages.cadastroCampeonato.dataFimInscricao']}">
        <p:outputLabel value="#{aux.dataFimInscricao}" />
      </p:column>
      <p:column headerText="#{msg['pages.cadastroCampeonato.dataInicioCampeonato']}">
        <p:outputLabel value="#{aux.dataInicioCampeonato}" />
      </p:column>
      <p:column headerText="#{msg['pages.cadastroCampeonato.dataFimCampeonato']}">
        <p:outputLabel value="#{aux.dataFimCampeonato}" />
      </p:column>
      
      
      
   </p:dataTable>	
	   
	</ui:define>
</ui:composition>






